/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.0/samples
 */

plugins{
    id "java"
    id "groovy"
}
version = "1.0"
description = "Spock Framework - Example Project"

subprojects {
    if (project.name.indexOf("boot") == -1) {
        apply plugin: "groovy"
        sourceCompatibility = 11
        dependencies {
            // mandatory dependencies for using Spock
            implementation "org.codehaus.groovy:groovy:3.0.8"
            testImplementation platform("org.spockframework:spock-bom:2.0-groovy-3.0")
            testImplementation "org.spockframework:spock-core"
            compileOnly 'org.projectlombok:lombok:1.18.22'
            annotationProcessor 'org.projectlombok:lombok:1.18.22'

            testCompileOnly 'org.projectlombok:lombok:1.18.22'
            testAnnotationProcessor 'org.projectlombok:lombok:1.18.22'
            // optional dependencies for using Spock
            testImplementation "org.hamcrest:hamcrest-core:2.2"   // only necessary if Hamcrest matchers are used
            testRuntimeOnly "net.bytebuddy:byte-buddy:1.11.0" // allows mocking of classes (in addition to interfaces)
            testRuntimeOnly "org.objenesis:objenesis:3.2"      // allows mocking of classes without default constructor (together with ByteBuddy or CGLIB)
        }

        test {
            useJUnitPlatform()
            testLogging {
                events "passed", "skipped", "failed"
            }
        }

// 控制台中文乱码
        compileJava.options.encoding = "UTF-8"
        compileTestJava.options.encoding = "UTF-8"

    }



}


